# ThreadHub

A lightweight discussion app built with **Flutter** and **Firebase** (Auth + Firestore). Users can sign up/sign in, browse posts, create posts, view post details, and participate via comments.

> Repo: `LeongKX/ThreadHub`  
> App package: `threadhub`

## âœ¨ Features

- Email/password authentication (Firebase Auth)
- Posts feed (Firestore)
- Create posts
- Post detail view
  - Edit/delete post (owner only)
  - Add/delete comments (comment owner only)
- Navigation with `go_router` + an app shell (bottom navigation)
- Local storage available via `sqflite` (currently included as a dependency)

## ğŸ§± Tech stack

- Flutter (Dart SDK `^3.10.4`)
- Firebase
  - `firebase_core`
  - `firebase_auth`
  - `cloud_firestore`
- Routing: `go_router`
- Utilities: `intl`
- Local persistence: `sqflite`

## âœ… Supported platforms

Firebase is configured in this repo for:

- **Android**
- **Web**

`lib/firebase_options.dart` will throw an `UnsupportedError` on iOS/macOS/Windows/Linux unless you re-run FlutterFire configuration for those platforms.

## ğŸ”§ Setup

### 1) Prerequisites

- Flutter installed (stable channel recommended)
- A working Android toolchain (Android Studio / SDK) for Android runs
- For Web runs: Chrome installed

### 2) Install dependencies

From the project root:

```bash
flutter pub get
```

### 3) Firebase configuration

This repository already contains Firebase configuration files:

- Android: `android/app/google-services.json`
- FlutterFire: `lib/firebase_options.dart`

If you want to use **your own** Firebase project:

1. Create a Firebase project in the Firebase console.
2. Install FlutterFire CLI (see official docs).
3. Run FlutterFire configure for your target platforms (Android/Web).
4. Replace the generated `lib/firebase_options.dart` and platform config files.

> Note: `lib/firebase_options.dart` in this repo includes API keys/IDs generated by FlutterFire. These are not secret credentials, but you should still treat your Firebase project rules and auth settings carefully.

## â–¶ï¸ Run

### Android

```bash
flutter run
```

### Web

```bash
flutter run -d chrome
```

## ğŸ—ï¸ Build

### Android APK

```bash
flutter build apk
```

### Web

```bash
flutter build web
```

## ğŸ—ºï¸ App navigation

Routes are defined in `lib/navigation/nav.dart`.

- `/signin` (initial)
- `/signup`
- `/home`
- `/follow`
- `/profile`
- `/addpost`
- `/post/:postId` (expects a `Post` passed via `state.extra`)

## ğŸ“ Project structure (high level)

```text
lib/
	data/
		model/        # Data models (e.g., Post, Comment)
		repo/         # Data sources / repositories (auth, posts, comments)
	navigation/     # go_router setup
	ui/
		auth/         # sign in / sign up
		home/         # main feed
		post/         # add post + post detail
		follow/       # user discovery/follow
		profile/      # user profile
		utils/        # app shell, shared UI helpers
```

## ğŸ” Firestore & Auth notes

- Make sure **Email/Password** sign-in is enabled in Firebase Auth.
- Ensure your Firestore security rules match your expectations. At minimum, you typically want:
  - only authenticated users can write
  - only owners can edit/delete their own posts/comments

This app already enforces some of these constraints in the UI (e.g. owner-only edit/delete), but you should still enforce them in Firestore rules.

## ğŸ§ª Quality checks

```bash
flutter analyze
flutter test
```

## ğŸ§° Troubleshooting

### "DefaultFirebaseOptions have not been configured for ios/macos/windows/linux"

Youâ€™re running on a platform that isnâ€™t configured in `lib/firebase_options.dart`. Re-run FlutterFire configuration to add the platform.

### Android build errors related to Google Services

Confirm `android/app/google-services.json` exists and that the Android application ID matches the one registered in Firebase.

## ğŸ“œ License

No license file is included yet. If you plan to distribute this publicly, consider adding a `LICENSE`.
